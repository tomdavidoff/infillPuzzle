
R version 4.5.2 (2025-10-31) -- "[Not] Part in a Rumble"
Copyright (C) 2025 The R Foundation for Statistical Computing
Platform: aarch64-apple-darwin20

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> # VancouverChoice.int
> # R to analyze discrete choices of developers, maybe aggregate
> # Tom Davidoff
> # Feb 5, 2026
> 
> library(data.table)
> library(ggplot2)
> library(fixest)
> library(geosphere)
> library(nnet)
> library(stargazer)

Please cite as: 

 Hlavac, Marek (2022). stargazer: Well-Formatted Regression and Summary Statistics Tables.
 R package version 5.2.3. https://CRAN.R-project.org/package=stargazer 

> library(xtable)
> CUTDISTANCE <- 20 # laneay
> MINDEPTH <- 100
> MINWIDTH <- 30
> 
> # Choices data
> dtChoice <- readRDS("~/OneDrive - UBC/dataProcessed/vancouverPermitLotsTracts.rds")
> print(table(dtChoice[,use]))

 duplex laneway   multi  single 
    781    1916     206    2805 
> print(head(dtChoice))
        CTUID     ROLL_NUMBER zoning_classification zoning_category
       <char>          <char>                <char>          <char>
1: 9330013.01 019237750590000 Residential Inclusive              R1
2: 9330043.02 001650034570000 Residential Inclusive              R1
3: 9330007.01 010813120730000 Residential Inclusive              R1
4: 9330017.02 023294726580000 Residential Inclusive              R1
5: 9330004.01 017824185250000 Residential Inclusive              R1
6: 9330014.02 024790254770000 Residential Inclusive              R1
   zoning_district    folioID  permitnumber permitnumbercreateddate     use
            <char>     <char>        <char>                  <IDat>  <char>
1:            R1-1 A000002L99 DB-2025-02238              2025-05-13 laneway
2:            R1-1 A0000001L4 DB-2024-04708              2024-11-27 laneway
3:            R1-1 A000001CU3 DB-2022-04382              2022-09-13 laneway
4:            R1-1 A0000032A5 DB-2021-06591              2021-12-13 laneway
5:            R1-1 A000002FXW DB-2021-06551              2021-12-12 laneway
6:            R1-1 D0000226KY DB-2025-01058              2025-03-06 laneway
   MB_effective_year MB_total_finished_area neighbourhoodDescription
              <char>                 <char>                   <char>
1:              2007                   2198                   KNIGHT
2:              1975                   2764               POINT GREY
3:              2010                   3845          SOUTH GRANVILLE
4:              1989                   2784              COLLINGWOOD
5:              1974                   2176          SOUTH VANCOUVER
6:              2006                   2947                KILLARNEY
                                         address LANDAREA landWidth landDepth
                                          <char>    <num>    <char>    <char>
1:  5835 ARGYLE STREET #3, Vancouver, BC V6P 3J8   1.1375        33       122
2:     3863 W BROADWAY #3, Vancouver, BC V6R 2C2   0.9967     58.54    108.84
3:  1675 W 59TH AVENUE #3, Vancouver, BC V6P 1Z3   2.6684        50       112
4: 5258 BURSILL STREET #3, Vancouver, BC V5R 3Z5   0.8547        33    144.45
5:            55 E 64TH AVENUE #3, Vancouver, BC   1.5554        33     115.5
6:  2293 E 49TH AVENUE #3, Vancouver, BC V5P 1T9   0.8070      36.1     217.1
               geo_point_2d   typeofwork
                     <char>       <char>
1: 49.2313344, -123.0719816 New Building
2:  49.2647127, -123.189698 New Building
3: 49.2179263, -123.1450447 New Building
4: 49.2367805, -123.0431201 New Building
5: 49.2127087, -123.1051167 New Building
6: 49.2254488, -123.0599436 New Building
                                       applicant distToSingle distToLaneway
                                          <char>        <num>         <num>
1: Patrick Chue DBA: P.Y. Chue Construction Ltd.   202.560338            NA
2:                                   William Tan     2.243065            NA
3:                                   William Tan    63.002824            NA
4:    Bhupinder (Raj) Singh DBA: Raj Home Design    60.017951            NA
5:    Bhupinder (Raj) Singh DBA: Raj Home Design     0.000000            NA
6:    Bhupinder (Raj) Singh DBA: Raj Home Design    32.534633            NA
   nearestSinglePermit nearestLanewayPermit
                <char>               <char>
1:       DB-2019-00281                 <NA>
2:       DB-2022-02694                 <NA>
3:       DB-2020-03155                 <NA>
4:       DB-2017-00302                 <NA>
5:       DB-2021-06550                 <NA>
6:       DB-2021-00712                 <NA>
> dtChoice[,landWidth:=as.numeric(landWidth)]
> dtChoice <- dtChoice[!is.na(landWidth)]
> print(quantile(dtChoice[,landWidth],seq(.1,.9,.05)))
 10%  15%  20%  25%  30%  35%  40%  45%  50%  55%  60%  65%  70%  75%  80%  85% 
33.0 33.0 33.0 33.0 33.0 33.0 33.0 33.0 34.0 39.6 41.3 44.0 46.5 49.5 50.0 50.0 
 90% 
58.4 
> q("no")
> proc.time()
   user  system elapsed 
  0.576   0.065   0.634 
