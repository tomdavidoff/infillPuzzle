
R version 4.5.2 (2025-10-31) -- "[Not] Part in a Rumble"
Copyright (C) 2025 The R Foundation for Statistical Computing
Platform: aarch64-apple-darwin20

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> # VancouverChoice.int
> # R to analyze discrete choices of developers, maybe aggregate
> # Tom Davidoff
> # Feb 5, 2026
> 
> library(data.table)
> library(ggplot2)
> library(fixest)
> library(geosphere)
> library(nnet)
> library(stargazer)

Please cite as: 

 Hlavac, Marek (2022). stargazer: Well-Formatted Regression and Summary Statistics Tables.
 R package version 5.2.3. https://CRAN.R-project.org/package=stargazer 

> library(xtable)
> CUTDISTANCE <- 20 # laneay
> MINDEPTH <- 100
> MINWIDTH <- 30
> 
> # Choices data
> dtChoice <- readRDS("~/OneDrive - UBC/dataProcessed/vancouverPermitLotsTracts.rds")
> print(table(dtChoice[,use]))

 duplex laneway   multi  single 
    781    1916     206    2805 
> print(head(dtChoice))
        CTUID     ROLL_NUMBER zoning_classification zoning_category
       <char>          <char>                <char>          <char>
1: 9330013.01 019237750590000 Residential Inclusive              R1
2: 9330043.02 001650034570000 Residential Inclusive              R1
3: 9330007.01 010813120730000 Residential Inclusive              R1
4: 9330017.02 023294726580000 Residential Inclusive              R1
5: 9330004.01 017824185250000 Residential Inclusive              R1
6: 9330014.02 024790254770000 Residential Inclusive              R1
   zoning_district    folioID  permitnumber permitnumbercreateddate     use
            <char>     <char>        <char>                  <IDat>  <char>
1:            R1-1 A000002L99 DB-2025-02238              2025-05-13 laneway
2:            R1-1 A0000001L4 DB-2024-04708              2024-11-27 laneway
3:            R1-1 A000001CU3 DB-2022-04382              2022-09-13 laneway
4:            R1-1 A0000032A5 DB-2021-06591              2021-12-13 laneway
5:            R1-1 A000002FXW DB-2021-06551              2021-12-12 laneway
6:            R1-1 D0000226KY DB-2025-01058              2025-03-06 laneway
   MB_effective_year MB_total_finished_area neighbourhoodDescription
              <char>                 <char>                   <char>
1:              2007                   2198                   KNIGHT
2:              1975                   2764               POINT GREY
3:              2010                   3845          SOUTH GRANVILLE
4:              1989                   2784              COLLINGWOOD
5:              1974                   2176          SOUTH VANCOUVER
6:              2006                   2947                KILLARNEY
                                         address LANDAREA landWidth landDepth
                                          <char>    <num>    <char>    <char>
1:  5835 ARGYLE STREET #3, Vancouver, BC V6P 3J8   1.1375        33       122
2:     3863 W BROADWAY #3, Vancouver, BC V6R 2C2   0.9967     58.54    108.84
3:  1675 W 59TH AVENUE #3, Vancouver, BC V6P 1Z3   2.6684        50       112
4: 5258 BURSILL STREET #3, Vancouver, BC V5R 3Z5   0.8547        33    144.45
5:            55 E 64TH AVENUE #3, Vancouver, BC   1.5554        33     115.5
6:  2293 E 49TH AVENUE #3, Vancouver, BC V5P 1T9   0.8070      36.1     217.1
               geo_point_2d   typeofwork
                     <char>       <char>
1: 49.2313344, -123.0719816 New Building
2:  49.2647127, -123.189698 New Building
3: 49.2179263, -123.1450447 New Building
4: 49.2367805, -123.0431201 New Building
5: 49.2127087, -123.1051167 New Building
6: 49.2254488, -123.0599436 New Building
                                       applicant distToSingle distToLaneway
                                          <char>        <num>         <num>
1: Patrick Chue DBA: P.Y. Chue Construction Ltd.   202.560338            NA
2:                                   William Tan     2.243065            NA
3:                                   William Tan    63.002824            NA
4:    Bhupinder (Raj) Singh DBA: Raj Home Design    60.017951            NA
5:    Bhupinder (Raj) Singh DBA: Raj Home Design     0.000000            NA
6:    Bhupinder (Raj) Singh DBA: Raj Home Design    32.534633            NA
   nearestSinglePermit nearestLanewayPermit
                <char>               <char>
1:       DB-2019-00281                 <NA>
2:       DB-2022-02694                 <NA>
3:       DB-2020-03155                 <NA>
4:       DB-2017-00302                 <NA>
5:       DB-2021-06550                 <NA>
6:       DB-2021-00712                 <NA>
> dtChoice[,year:=year(permitnumbercreateddate)]
> dtChoice[,c("latitude","longitude"):=tstrsplit(geo_point_2d,","  )  ]
> # Downtown is Vancouver's primary business district, houses many arts, entertainment, and sports venues, and is close to several vibrant residential communities.
> # 49.2827° N, 123.1207° W per google
> dtChoice[,latDowntown:=49.2827]
> dtChoice[,lonDowntown:=-123.1207]
> dtChoice[,latitude:=as.numeric(latitude)]
> dtChoice[,longitude:=as.numeric(longitude)]
> dtChoice[,distDowntown:=distGeo(dtChoice[,c("longitude","latitude")],dtChoice[,c("lonDowntown","latDowntown")])]
> dtChoice[,landWidth:=as.numeric(landWidth)]
> dtChoice[,landDepth:=as.numeric(landDepth)]
> dtChoice[,landArea:=landWidth*landDepth  ]
> dtChoice <- dtChoice[landWidth>=MINWIDTH & landWidth<=MINDEPTH]
> dtChoice <- dtChoice[!is.na(landWidth)]
> dtPriceCT <- fread("~/OneDrive - UBC/dataProcessed/bca19_mean_ppsf_slope_by_tract.csv",colClasses=c(CTUID="character"))
> dtChoice <- merge(dtChoice,dtPriceCT,by="CTUID")
> dtChoice[,w33:=abs(landWidth-33)<=3]
> dtChoice <- dtChoice[!is.na(landWidth)]
> 
> # Income by census tract
> dtIncome <- fread("~/OneDrive - UBC/dataRaw/9810005801_databaseLoadingData.csv",
+   select = c("GEO", "DGUID", "Household income statistics (6)", "VALUE")
+ )
> dtIncome <- dtIncome[grepl("Vancouver", GEO)]
> setnames(dtIncome, c("DGUID", "Household income statistics (6)", "VALUE"), c("DGUID", "incomeStat", "medianIncome"))
> dtIncome <- dtIncome[incomeStat == "Median household total income (2020) (2020 constant dollars)"]
> dtIncome[, tract := substr(DGUID, 13, 19)]
> 
> dtChoice[,tract:=substring(CTUID,4,10)]
> a <- nrow(dtChoice)
> dtChoice <- merge(dtChoice,dtIncome,by="tract")
> 
> # Mean price, single vs duplex premium and elasticity of ppsf among single/duplex, mean price by neighbourhood
> 
> dtElasticityN <- fread("~/OneDrive - UBC/dataProcessed/neighbourhoodInteractionsVancouver.csv")
> dtPriceCT <- fread("~/OneDrive - UBC/dataProcessed/tractMeansVancouver.csv",colClasses=c(CTNAME="character"))
> print(head(dtElasticityN))
                       NEIGHBOURHOOD interactionSingle interactionlSqft
                              <char>             <num>            <num>
1:                        Point Grey        0.36149819       -0.2819241
2:                         Kitsilano        0.16200667       -0.3130783
3:                            Dunbar        0.23634958       -0.2969206
4: Arbutus Ridge - Mackenzie Heights        0.23246496       -0.2960692
5:                        Kerrisdale        0.18660810       -0.3015805
6:                        Southlands        0.09808284       -0.3158842
> print(head(dtPriceCT))
    CTNAME  meanPPSF medianPPSF
    <char>     <num>      <num>
1: 0044.00 1113.6812  1127.7303
2: 0043.01  955.0606   923.8692
3: 0043.02  994.7940   980.7295
4: 0042.00  840.7464   801.9324
5: 0045.01 1012.6041   960.4759
6: 0045.02  951.0984   890.8046
> print(head(dtChoice))
Key: <tract>
     tract      CTUID     ROLL_NUMBER zoning_classification zoning_category
    <char>     <char>          <char>                <char>          <char>
1: 0001.01 9330001.01 025772312820000 Residential Inclusive              R1
2: 0001.01 9330001.01 025772318260000 Residential Inclusive              R1
3: 0001.01 9330001.01 025772318600000 Residential Inclusive              R1
4: 0001.01 9330001.01 025772312260000 Residential Inclusive              R1
5: 0001.01 9330001.01 025772312520000 Residential Inclusive              R1
6: 0001.02 9330001.02 025821302870000 Residential Inclusive              R1
   zoning_district    folioID  permitnumber permitnumbercreateddate     use
            <char>     <char>        <char>                  <IDat>  <char>
1:            R1-1 A000003EUV DB-2020-00133              2020-01-14 laneway
2:            R1-1 A000003EVA DB-2020-00686              2020-02-21 laneway
3:            R1-1 A000003EVF DB-2024-05213              2024-12-21 laneway
4:            R1-1 A000003EUK DB-2019-05174              2019-11-12  single
5:            R1-1 A000003EUQ DB-2021-00308              2021-01-27  duplex
6:            R1-1 A000003GB3 DB-2018-04562              2018-08-23  single
   MB_effective_year MB_total_finished_area neighbourhoodDescription
              <char>                 <char>                   <char>
1:              1993                   4568               FRASERVIEW
2:              1975                   2727               FRASERVIEW
3:              1971                   2787               FRASERVIEW
4:              1965                   2053               FRASERVIEW
5:              1971                   2786               FRASERVIEW
6:              2019                   2566               FRASERVIEW
                                     address LANDAREA landWidth landDepth
                                      <char>    <num>     <num>     <num>
1: 3538 E 48TH AVENUE, Vancouver, BC V5S 1H7   1.0195        50    157.67
2: 3618 E 48TH AVENUE, Vancouver, BC V5S 1H9   1.0195        40    157.71
3:      3658 E 48TH AVENUE #3, Vancouver, BC   1.0195        40    157.83
4: 3472 E 48TH AVENUE, Vancouver, BC V5S 1H7   1.0195        50    158.67
5: 3498 E 48TH AVENUE, Vancouver, BC V5S 1H7   1.0195        45    158.17
6: 3157 E 62ND AVENUE, Vancouver, BC V5S 2G6   1.8621        55    115.00
               geo_point_2d   typeofwork
                     <char>       <char>
1: 49.2249242, -123.0283225 New Building
2: 49.2249078, -123.0254408 New Building
3: 49.2249031, -123.0246175 New Building
4: 49.2249313, -123.0302163 New Building
5: 49.2249233, -123.0292697 New Building
6: 49.2140062, -123.0388062 New Building
                                                 applicant distToSingle
                                                    <char>        <num>
1: Shanelle Currie DBA: Smallworks Studios & Laneway House     79.27120
2:                                         William  Cheung     77.16349
3:                Matti Tang DBA: Metro-City Projects Inc.     38.61559
4:           Inderjit Parmar DBA: Bright Star Holding Inc.           NA
5:                                             William Tan           NA
6:                                         Shiao Yin  Wong           NA
   distToLaneway nearestSinglePermit nearestLanewayPermit  year latitude
           <num>              <char>               <char> <int>    <num>
1:            NA       DB-2024-03558                 <NA>  2020 49.22492
2:            NA       DB-2021-03185                 <NA>  2020 49.22491
3:            NA       DB-2021-03185                 <NA>  2024 49.22490
4:      30.49349                <NA>        DB-2019-05177  2019 49.22493
5:            NA                <NA>                 <NA>  2021 49.22492
6:     144.99375                <NA>        DB-2019-00824  2018 49.21401
   longitude latDowntown lonDowntown distDowntown landArea meanPPSF  nobs
       <num>       <num>       <num>        <num>    <num>    <num> <int>
1: -123.0283     49.2827   -123.1207     9301.239  7883.50 872.5392     5
2: -123.0254     49.2827   -123.1207     9455.270  6308.40 872.5392     5
3: -123.0246     49.2827   -123.1207     9499.670  6313.20 872.5392     5
4: -123.0302     49.2827   -123.1207     9201.499  7933.50 872.5392     5
5: -123.0293     49.2827   -123.1207     9251.575  7117.65 872.5392     5
6: -123.0388     49.2827   -123.1207     9691.066  6325.00 759.3887    10
   elasticity    w33                 GEO               DGUID
        <num> <lgcl>              <char>              <char>
1:         NA  FALSE 0001.01 - Vancouver 2021S05079330001.01
2:         NA  FALSE 0001.01 - Vancouver 2021S05079330001.01
3:         NA  FALSE 0001.01 - Vancouver 2021S05079330001.01
4:         NA  FALSE 0001.01 - Vancouver 2021S05079330001.01
5:         NA  FALSE 0001.01 - Vancouver 2021S05079330001.01
6:         NA  FALSE 0001.02 - Vancouver 2021S05079330001.02
                                                     incomeStat medianIncome
                                                         <char>        <int>
1: Median household total income (2020) (2020 constant dollars)        89000
2: Median household total income (2020) (2020 constant dollars)        89000
3: Median household total income (2020) (2020 constant dollars)        89000
4: Median household total income (2020) (2020 constant dollars)        89000
5: Median household total income (2020) (2020 constant dollars)        89000
6: Median household total income (2020) (2020 constant dollars)        95000
> print(nrow(dtChoice))
[1] 5197
> dtElasticityN[,neighbourhoodDescription:=toupper(NEIGHBOURHOOD)]
> dtElasticityN[neighbourhoodDescription=="ARBUTUS RIDGE - MACKENZIE HEIGHTS",neighbourhoodDescription:="ARBUTUS/MACKENZIE HEIGHTS"]
> dtElasticityN[neighbourhoodDescription=="MAIN & FRASER",neighbourhoodDescription:="MAIN/FRASER"]
> s1 <- unique(dtChoice[,neighbourhoodDescription])
> dtChoice <- merge(dtChoice,dtElasticityN,by="neighbourhoodDescription")
> print(nrow(dtChoice))
[1] 5197
> print(setdiff(s1,unique(dtChoice[,neighbourhoodDescription])))
character(0)
> 
> b <- unique(dtChoice[,neighbourhoodDescription])
> print(setdiff(a,b))
[1] 5197
> 
> print(c("LOSS OF OBS?",a - nrow(dtChoice)))
[1] "LOSS OF OBS?" "0"           
> 
> 
> dtChoice <- dtChoice[use!="laneway"] # not laneway only
> dtChoice[,elasticity:=interactionlSqft]
> print(head(dtChoice))
Key: <neighbourhoodDescription>
    neighbourhoodDescription   tract      CTUID     ROLL_NUMBER
                      <char>  <char>     <char>          <char>
1: ARBUTUS/MACKENZIE HEIGHTS 0021.00 9330021.00 004712095370000
2: ARBUTUS/MACKENZIE HEIGHTS 0021.00 9330021.00 004712095770000
3: ARBUTUS/MACKENZIE HEIGHTS 0023.00 9330023.00 004726054310000
4: ARBUTUS/MACKENZIE HEIGHTS 0023.00 9330023.00 004725071770000
5: ARBUTUS/MACKENZIE HEIGHTS 0023.00 9330023.00 004073726570000
6: ARBUTUS/MACKENZIE HEIGHTS 0023.00 9330023.00 004725056940000
   zoning_classification zoning_category zoning_district    folioID
                  <char>          <char>          <char>     <char>
1: Residential Inclusive              R1            R1-1 A000000NES
2: Residential Inclusive              R1            R1-1 A000000NEU
3: Residential Inclusive              R1            R1-1 A000000P1R
4: Residential Inclusive              R1            R1-1 A000000NZR
5: Residential Inclusive              R1            R1-1 A000000L7D
6: Residential Inclusive              R1            R1-1 A000000NYL
    permitnumber permitnumbercreateddate    use MB_effective_year
          <char>                  <IDat> <char>            <char>
1: DB-2021-02007              2021-05-04 single              1990
2: DB-2021-05023              2021-09-25 single              1960
3: BP-2025-02581              2025-06-06 single              2003
4: DB-2017-02931              2017-06-01 single              2015
5: DB-2018-00416              2018-01-25 single              2019
6: DB-2018-03667              2018-07-06 single              2019
   MB_total_finished_area                                      address LANDAREA
                   <char>                                       <char>    <num>
1:                   4064 4147 CYPRESS CRESCENT, Vancouver, BC V6J 4L4   2.2093
2:                   4355 4123 CYPRESS CRESCENT, Vancouver, BC V6J 4L4   2.2093
3:                   4339    3131 W 32ND AVENUE, Vancouver, BC V6L 2B9   1.2002
4:                   3936    2733 W 31ST AVENUE, Vancouver, BC V6L 1Z9   1.2002
5:                   3981 4857 TRAFALGAR STREET, Vancouver, BC V6L 2N1   1.2002
6:                   3707    2906 W 31ST AVENUE, Vancouver, BC V6L 2A4   1.2002
   landWidth landDepth             geo_point_2d            typeofwork
       <num>     <num>                   <char>                <char>
1:     63.00    126.80 49.2491407, -123.1499223          New Building
2:     63.00    127.40 49.2493925, -123.1495635 Addition / Alteration
3:     50.00    130.15  49.243546, -123.1748728 Addition / Alteration
4:     49.65    130.08 49.2444626, -123.1662072 Addition / Alteration
5:     50.00    119.02  49.242673, -123.1659732          New Building
6:     49.50    128.83 49.2439439, -123.1704682          New Building
                                                                  applicant
                                                                     <char>
1:                                          Diamond Group Architecture Inc.
2:                                     Taylor Johnson DBA: Airey Homes Inc.
3: Candane Construction Services Ltd DBA: Candane Construction Services Ltd
4:                             Matt Mauza DBA: Formwerks Architectural Inc.
5:                                               Bryn Davidson DBA: Lanefab
6:                            Maggie Tsai DBA: Formwerks Architectural Inc.
   distToSingle distToLaneway nearestSinglePermit nearestLanewayPermit  year
          <num>         <num>              <char>               <char> <int>
1:           NA     157.87001                <NA>        DB-2018-04974  2021
2:           NA     188.30227                <NA>        DB-2018-04974  2021
3:           NA      61.42903                <NA>        DB-2022-00870  2025
4:           NA      34.72230                <NA>        DB-2019-03490  2017
5:           NA      25.74969                <NA>        DB-2018-00419  2018
6:           NA      39.50610                <NA>        DB-2018-03670  2018
   latitude longitude latDowntown lonDowntown distDowntown landArea meanPPSF
      <num>     <num>       <num>       <num>        <num>    <num>    <num>
1: 49.24914 -123.1499     49.2827   -123.1207     4295.750 7988.400 1130.233
2: 49.24939 -123.1496     49.2827   -123.1207     4258.497 8026.200 1130.233
3: 49.24355 -123.1749     49.2827   -123.1207     5874.432 6507.500 1212.364
4: 49.24446 -123.1662     49.2827   -123.1207     5390.291 6458.472 1212.364
5: 49.24267 -123.1660     49.2827   -123.1207     5538.544 5951.000 1212.364
6: 49.24394 -123.1705     49.2827   -123.1207     5630.276 6377.085 1212.364
    nobs elasticity    w33                 GEO               DGUID
   <int>      <num> <lgcl>              <char>              <char>
1:    15 -0.2960692  FALSE 0021.00 - Vancouver 2021S05079330021.00
2:    15 -0.2960692  FALSE 0021.00 - Vancouver 2021S05079330021.00
3:    69 -0.2960692  FALSE 0023.00 - Vancouver 2021S05079330023.00
4:    69 -0.2960692  FALSE 0023.00 - Vancouver 2021S05079330023.00
5:    69 -0.2960692  FALSE 0023.00 - Vancouver 2021S05079330023.00
6:    69 -0.2960692  FALSE 0023.00 - Vancouver 2021S05079330023.00
                                                     incomeStat medianIncome
                                                         <char>        <int>
1: Median household total income (2020) (2020 constant dollars)       166000
2: Median household total income (2020) (2020 constant dollars)       166000
3: Median household total income (2020) (2020 constant dollars)       127000
4: Median household total income (2020) (2020 constant dollars)       127000
5: Median household total income (2020) (2020 constant dollars)       127000
6: Median household total income (2020) (2020 constant dollars)       127000
                       NEIGHBOURHOOD interactionSingle interactionlSqft
                              <char>             <num>            <num>
1: Arbutus Ridge - Mackenzie Heights          0.232465       -0.2960692
2: Arbutus Ridge - Mackenzie Heights          0.232465       -0.2960692
3: Arbutus Ridge - Mackenzie Heights          0.232465       -0.2960692
4: Arbutus Ridge - Mackenzie Heights          0.232465       -0.2960692
5: Arbutus Ridge - Mackenzie Heights          0.232465       -0.2960692
6: Arbutus Ridge - Mackenzie Heights          0.232465       -0.2960692
> print(head(dtPriceCT))
    CTNAME  meanPPSF medianPPSF
    <char>     <num>      <num>
1: 0044.00 1113.6812  1127.7303
2: 0043.01  955.0606   923.8692
3: 0043.02  994.7940   980.7295
4: 0042.00  840.7464   801.9324
5: 0045.01 1012.6041   960.4759
6: 0045.02  951.0984   890.8046
> 
> dtChoice <- merge(dtChoice,dtPriceCT,by.x="tract",by.y="CTNAME")
> 
> DOTRACT <- 0
> if (DOTRACT==1) {
+   dtChoice[,interactionSqft:=NULL]
+   dtInteractionsTract <- fread("~/OneDrive - UBC/dataProcessed/tractInteractionsVancouver.csv",colClasses=c("CTNAME"="character","interactionSqft"="numeric"))
+   dtChoice <- merge(dtChoice,dtInteractionsTract,by.x="tract",by.y="CTNAME")
+ }
> 
> dtChoice <- dtChoice[!is.na(interactionSingle) & !is.na(interactionlSqft)]
> dtChoice[,laneway:=use=="single" & distToLaneway<CUTDISTANCE]
> dtChoice[,mergeZone:=tract] # ND or tract
> dtChoice[,lmedianIncome := log(medianIncome)]
> 
> dtChoice[,lmedianPPSF:=log(medianPPSF)]
> dtChoice[,singleLaneway:=use=="single" & distToLaneway<CUTDISTANCE]
> dtChoice[,singleNoLaneway:=use=="single" & distToLaneway>=CUTDISTANCE]
> dtChoice[distToLaneway<CUTDISTANCE & use=="single",use:="singleLaneway"]
> dtChoice[distToLaneway>=CUTDISTANCE & use=="single",use:="singleOnly"]
> dtChoice[,duplex:=use=="duplex"]
> dtChoice[,multiplex:=use=="multi"]
> cols <- c("laneway","singleNoLaneway","singleLaneway","duplex","multiplex", "medianPPSF","medianIncome","elasticity")
> print(dtChoice[,median(landWidth),by=use])
             use    V1
          <char> <num>
1:    singleOnly 40.00
2:        duplex 33.00
3: singleLaneway 33.99
4:         multi 42.50
> 
> x <- copy(dtChoice)[, (cols) := lapply(.SD, function(v) unname(as.numeric(v))), .SDcols = cols]
> 
> print(stargazer(as.data.frame(x[, ..cols]), type = "latex", file = "text/summaryChoice.tex"))

% Table created by stargazer v.5.2.3 by Marek Hlavac, Social Policy Institute. E-mail: marek.hlavac at gmail.com
% Date and time: Mon, Feb 09, 2026 - 17:11:18
\begin{table}[!htbp] \centering 
  \caption{} 
  \label{} 
\begin{tabular}{@{\extracolsep{5pt}}lccccc} 
\\[-1.8ex]\hline 
\hline \\[-1.8ex] 
Statistic & \multicolumn{1}{c}{N} & \multicolumn{1}{c}{Mean} & \multicolumn{1}{c}{St. Dev.} & \multicolumn{1}{c}{Min} & \multicolumn{1}{c}{Max} \\ 
\hline \\[-1.8ex] 
laneway & 3,431 & 0.284 & 0.451 & 0 & 1 \\ 
singleNoLaneway & 3,431 & 0.451 & 0.498 & 0 & 1 \\ 
singleLaneway & 3,431 & 0.284 & 0.451 & 0 & 1 \\ 
duplex & 3,431 & 0.213 & 0.410 & 0 & 1 \\ 
multiplex & 3,431 & 0.052 & 0.223 & 0 & 1 \\ 
medianPPSF & 3,431 & 667.706 & 171.984 & 468.187 & 1,127.730 \\ 
medianIncome & 3,431 & 95,983.970 & 16,713.320 & 65,500 & 166,000 \\ 
elasticity & 3,431 & $-$0.341 & 0.036 & $-$0.381 & $-$0.282 \\ 
\hline \\[-1.8ex] 
\end{tabular} 
\end{table} 

% Table created by stargazer v.5.2.3 by Marek Hlavac, Social Policy Institute. E-mail: marek.hlavac at gmail.com
% Date and time: Mon, Feb 09, 2026 - 17:11:18
\begin{table}[!htbp] \centering 
  \caption{} 
  \label{} 
\begin{tabular}{@{\extracolsep{5pt}} c} 
\\[-1.8ex]\hline 
\hline \\[-1.8ex] 
text/summaryChoice.tex \\ 
\hline \\[-1.8ex] 
\end{tabular} 
\end{table} 
 [1] ""                                                                                                                                                          
 [2] "% Table created by stargazer v.5.2.3 by Marek Hlavac, Social Policy Institute. E-mail: marek.hlavac at gmail.com"                                          
 [3] "% Date and time: Mon, Feb 09, 2026 - 17:11:18"                                                                                                             
 [4] "\\begin{table}[!htbp] \\centering "                                                                                                                        
 [5] "  \\caption{} "                                                                                                                                            
 [6] "  \\label{} "                                                                                                                                              
 [7] "\\begin{tabular}{@{\\extracolsep{5pt}}lccccc} "                                                                                                            
 [8] "\\\\[-1.8ex]\\hline "                                                                                                                                      
 [9] "\\hline \\\\[-1.8ex] "                                                                                                                                     
[10] "Statistic & \\multicolumn{1}{c}{N} & \\multicolumn{1}{c}{Mean} & \\multicolumn{1}{c}{St. Dev.} & \\multicolumn{1}{c}{Min} & \\multicolumn{1}{c}{Max} \\\\ "
[11] "\\hline \\\\[-1.8ex] "                                                                                                                                     
[12] "laneway & 3,431 & 0.284 & 0.451 & 0 & 1 \\\\ "                                                                                                             
[13] "singleNoLaneway & 3,431 & 0.451 & 0.498 & 0 & 1 \\\\ "                                                                                                     
[14] "singleLaneway & 3,431 & 0.284 & 0.451 & 0 & 1 \\\\ "                                                                                                       
[15] "duplex & 3,431 & 0.213 & 0.410 & 0 & 1 \\\\ "                                                                                                              
[16] "multiplex & 3,431 & 0.052 & 0.223 & 0 & 1 \\\\ "                                                                                                           
[17] "medianPPSF & 3,431 & 667.706 & 171.984 & 468.187 & 1,127.730 \\\\ "                                                                                        
[18] "medianIncome & 3,431 & 95,983.970 & 16,713.320 & 65,500 & 166,000 \\\\ "                                                                                   
[19] "elasticity & 3,431 & $-$0.341 & 0.036 & $-$0.381 & $-$0.282 \\\\ "                                                                                         
[20] "\\hline \\\\[-1.8ex] "                                                                                                                                     
[21] "\\end{tabular} "                                                                                                                                           
[22] "\\end{table} "                                                                                                                                             
[23] ""                                                                                                                                                          
[24] "% Table created by stargazer v.5.2.3 by Marek Hlavac, Social Policy Institute. E-mail: marek.hlavac at gmail.com"                                          
[25] "% Date and time: Mon, Feb 09, 2026 - 17:11:18"                                                                                                             
[26] "\\begin{table}[!htbp] \\centering "                                                                                                                        
[27] "  \\caption{} "                                                                                                                                            
[28] "  \\label{} "                                                                                                                                              
[29] "\\begin{tabular}{@{\\extracolsep{5pt}} c} "                                                                                                                
[30] "\\\\[-1.8ex]\\hline "                                                                                                                                      
[31] "\\hline \\\\[-1.8ex] "                                                                                                                                     
[32] "text/summaryChoice.tex \\\\ "                                                                                                                              
[33] "\\hline \\\\[-1.8ex] "                                                                                                                                     
[34] "\\end{tabular} "                                                                                                                                           
[35] "\\end{table} "                                                                                                                                             
> 
> dtLaneway <- dtChoice[use=="singleLaneway" | use=="singleOnly",.(laneway=mean(use=="singleLaneway")),by="tract"]
> dtDuplex <- dtChoice[year<2024,.(duplex=mean(duplex)),by="tract"]
> dtMultiplex <- dtChoice[year>=2024,.(multiplex=mean(multiplex)),by="tract"]
> dtStats <- dtChoice[,.(lmedianIncome = mean(lmedianIncome, na.rm = TRUE), singlePremium = mean(interactionSingle, na.rm = TRUE), elasticity = mean(elasticity, na.rm = TRUE), medianPPSF = mean(medianPPSF, na.rm = TRUE)), by=tract]
> print(head(dtStats))
Key: <tract>
     tract lmedianIncome singlePremium elasticity medianPPSF
    <char>         <num>         <num>      <num>      <num>
1: 0001.01      11.39639    -0.3353044 -0.3718377   556.0267
2: 0001.02      11.46163    -0.3353044 -0.3718377   468.1873
3: 0002.01      11.38509    -0.3240659 -0.3713499   495.5168
4: 0002.03      11.41861    -0.3353044 -0.3718377   470.3640
5: 0002.04      11.46163    -0.3353044 -0.3718377   469.7457
6: 0003.01      11.45105    -0.3241493 -0.3738722   482.6607
> print(head(dtLaneway))
Key: <tract>
     tract   laneway
    <char>     <num>
1: 0001.01 0.0000000
2: 0001.02 0.3333333
3: 0002.01 0.4482759
4: 0002.03 0.6842105
5: 0002.04 0.2857143
6: 0003.01 0.6060606
> print(summary(dtLaneway))
    tract              laneway      
 Length:74          Min.   :0.0000  
 Class :character   1st Qu.:0.3024  
 Mode  :character   Median :0.3647  
                    Mean   :0.3927  
                    3rd Qu.:0.5000  
                    Max.   :1.0000  
> print(head(dtDuplex))
Key: <tract>
     tract    duplex
    <char>     <num>
1: 0001.01 0.5000000
2: 0001.02 0.6000000
3: 0002.01 0.1250000
4: 0002.03 0.1500000
5: 0002.04 0.1250000
6: 0003.01 0.1176471
> print(head(dtMultiplex))
Key: <tract>
     tract multiplex
    <char>     <num>
1: 0001.02 0.0000000
2: 0002.01 0.5000000
3: 0002.03 0.0000000
4: 0002.04 1.0000000
5: 0003.01 0.4444444
6: 0003.02 0.5000000
> dtStats <- merge(dtStats,dtLaneway,by="tract",all.x=TRUE)
> dtStats <- merge(dtStats,dtMultiplex,by="tract",all.x=TRUE)
> dtStats  <- merge(dtStats,dtDuplex,by="tract",all.x=TRUE)
> print(summary(dtChoice))
    tract           neighbourhoodDescription    CTUID          
 Length:3431        Length:3431              Length:3431       
 Class :character   Class :character         Class :character  
 Mode  :character   Mode  :character         Mode  :character  
                                                               
                                                               
                                                               
                                                               
 ROLL_NUMBER        zoning_classification zoning_category    zoning_district   
 Length:3431        Length:3431           Length:3431        Length:3431       
 Class :character   Class :character      Class :character   Class :character  
 Mode  :character   Mode  :character      Mode  :character   Mode  :character  
                                                                               
                                                                               
                                                                               
                                                                               
   folioID          permitnumber       permitnumbercreateddate
 Length:3431        Length:3431        Min.   :2017-01-03     
 Class :character   Class :character   1st Qu.:2018-11-28     
 Mode  :character   Mode  :character   Median :2021-06-25     
                                       Mean   :2021-03-14     
                                       3rd Qu.:2023-03-21     
                                       Max.   :2025-10-17     
                                                              
     use            MB_effective_year  MB_total_finished_area
 Length:3431        Length:3431        Length:3431           
 Class :character   Class :character   Class :character      
 Mode  :character   Mode  :character   Mode  :character      
                                                             
                                                             
                                                             
                                                             
   address             LANDAREA        landWidth        landDepth    
 Length:3431        Min.   :0.4194   Min.   : 30.00   Min.   : 50.0  
 Class :character   1st Qu.:0.8935   1st Qu.: 33.00   1st Qu.:114.0  
 Mode  :character   Median :1.2593   Median : 34.20   Median :122.0  
                    Mean   :1.3297   Mean   : 41.98   Mean   :123.3  
                    3rd Qu.:1.5728   3rd Qu.: 49.58   3rd Qu.:127.0  
                    Max.   :3.5378   Max.   :100.00   Max.   :342.6  
                                                                     
 geo_point_2d        typeofwork         applicant          distToSingle 
 Length:3431        Length:3431        Length:3431        Min.   : NA   
 Class :character   Class :character   Class :character   1st Qu.: NA   
 Mode  :character   Mode  :character   Mode  :character   Median : NA   
                                                          Mean   :NaN   
                                                          3rd Qu.: NA   
                                                          Max.   : NA   
                                                          NA's   :3431  
 distToLaneway     nearestSinglePermit nearestLanewayPermit      year     
 Min.   :  0.000   Length:3431         Length:3431          Min.   :2017  
 1st Qu.:  2.234   Class :character    Class :character     1st Qu.:2018  
 Median : 26.658   Mode  :character    Mode  :character     Median :2021  
 Mean   : 43.060                                            Mean   :2021  
 3rd Qu.: 60.930                                            3rd Qu.:2023  
 Max.   :513.624                                            Max.   :2025  
 NA's   :911                                                              
    latitude       longitude       latDowntown     lonDowntown    
 Min.   :49.21   Min.   :-123.2   Min.   :49.28   Min.   :-123.1  
 1st Qu.:49.23   1st Qu.:-123.2   1st Qu.:49.28   1st Qu.:-123.1  
 Median :49.24   Median :-123.1   Median :49.28   Median :-123.1  
 Mean   :49.24   Mean   :-123.1   Mean   :49.28   Mean   :-123.1  
 3rd Qu.:49.26   3rd Qu.:-123.1   3rd Qu.:49.28   3rd Qu.:-123.1  
 Max.   :49.29   Max.   :-123.0   Max.   :49.28   Max.   :-123.1  
                                                                  
  distDowntown     landArea       meanPPSF.x          nobs       
 Min.   :2927   Min.   : 1600   Min.   : 747.5   Min.   :  4.00  
 1st Qu.:5295   1st Qu.: 4026   1st Qu.: 833.0   1st Qu.: 54.00  
 Median :6211   Median : 4356   Median : 961.2   Median : 69.00  
 Mean   :6211   Mean   : 5254   Mean   :1005.8   Mean   : 75.95  
 3rd Qu.:7142   3rd Qu.: 6005   3rd Qu.:1192.7   3rd Qu.:105.00  
 Max.   :9857   Max.   :33838   Max.   :1386.2   Max.   :166.00  
                                                                 
   elasticity         w33              GEO               DGUID          
 Min.   :-0.3815   Mode :logical   Length:3431        Length:3431       
 1st Qu.:-0.3754   FALSE:1638      Class :character   Class :character  
 Median :-0.3587   TRUE :1793      Mode  :character   Mode  :character  
 Mean   :-0.3409                                                        
 3rd Qu.:-0.3016                                                        
 Max.   :-0.2819                                                        
                                                                        
  incomeStat         medianIncome    NEIGHBOURHOOD      interactionSingle 
 Length:3431        Min.   : 65500   Length:3431        Min.   :-0.35271  
 Class :character   1st Qu.: 86000   Class :character   1st Qu.:-0.32415  
 Mode  :character   Median : 93000   Mode  :character   Median :-0.17954  
                    Mean   : 95984                      Mean   :-0.07427  
                    3rd Qu.:101000                      3rd Qu.: 0.18661  
                    Max.   :166000                      Max.   : 0.36150  
                                                                          
 interactionlSqft    meanPPSF.y       medianPPSF      laneway       
 Min.   :-0.3815   Min.   : 505.5   Min.   : 468.2   Mode :logical  
 1st Qu.:-0.3754   1st Qu.: 538.9   1st Qu.: 519.3   FALSE:2458     
 Median :-0.3587   Median : 652.3   Median : 610.9   TRUE :973      
 Mean   :-0.3409   Mean   : 698.3   Mean   : 667.7                  
 3rd Qu.:-0.3016   3rd Qu.: 852.5   3rd Qu.: 826.6                  
 Max.   :-0.2819   Max.   :1113.7   Max.   :1127.7                  
                                                                    
  mergeZone         lmedianIncome    lmedianPPSF    singleLaneway  
 Length:3431        Min.   :11.09   Min.   :6.149   Mode :logical  
 Class :character   1st Qu.:11.36   1st Qu.:6.252   FALSE:2458     
 Mode  :character   Median :11.44   Median :6.415   TRUE :973      
                    Mean   :11.46   Mean   :6.472                  
                    3rd Qu.:11.52   3rd Qu.:6.717                  
                    Max.   :12.02   Max.   :7.028                  
                                                                   
 singleNoLaneway   duplex        multiplex      
 Mode :logical   Mode :logical   Mode :logical  
 FALSE:1884      FALSE:2700      FALSE:3251     
 TRUE :1547      TRUE :731       TRUE :180      
                                                
                                                
                                                
                                                
> print(table(dtChoice[,use]))

       duplex         multi singleLaneway    singleOnly 
          731           180           973          1547 
> C <- cor(dtStats[,.(laneway,lmedianIncome,singlePremium,elasticity,duplex,multiplex,medianPPSF) ],use="complete.obs")
> # correlation matrix
> # convert to data.table (optional, but tidy)
> C_dt <- as.data.table(C, keep.rownames = "Variable")
> # export to LaTeX
> print( xtable(C_dt, digits = 2), file = "text/vancouverCorrelate.tex", floating=FALSE, include.rownames = FALSE )
> # toggle for lanewayResidual estimation level
> 
> # print summary statistics for tabulating in R
> dtSingle <- dtChoice[use=="singleOnly" | use=="singleLaneway"]
> rrc <- feols(laneway ~ lmedianPPSF + landWidth |year  ,data=dtSingle,cluster="tract")
> rri <- feols(laneway ~ lmedianPPSF + landWidth + lmedianIncome|year  ,data=dtSingle,cluster="tract")
> rr <- feols(laneway ~ lmedianPPSF + landWidth +   elasticity|year  ,data=dtSingle,cluster="tract")
> print(etable(rrc,rri,rr))
                                rrc                rri                  rr
Dependent Var.:             laneway            laneway             laneway
                                                                          
lmedianPPSF     -0.2594*** (0.0599) -0.1900** (0.0681) -0.5699*** (0.1570)
landWidth        -0.0031** (0.0012)  -0.0029* (0.0012)  -0.0036** (0.0012)
lmedianIncome                        -0.2189* (0.1033)                    
elasticity                                                  2.373* (1.151)
Fixed-Effects:  ------------------- ------------------ -------------------
year                            Yes                Yes                 Yes
_______________ ___________________ __________________ ___________________
S.E.: Clustered           by: tract          by: tract           by: tract
Observations                  2,520              2,520               2,520
R2                          0.15273            0.15689             0.15596
Within R2                   0.03858            0.04330             0.04224
---
Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
> dtSingle[,eps:=resid(rr)]
> rdc <- feols(use=="duplex" ~ lmedianPPSF + landWidth|year,data=dtChoice[year<2024],cluster="tract")
> rdi <- feols(use=="duplex" ~ lmedianPPSF + landWidth + lmedianIncome|year,data=dtChoice[year<2024],cluster="tract")
> rd <- feols(use=="duplex" ~ lmedianPPSF +landWidth+lmedianIncome+ elasticity|year,data=dtChoice[year<2024],cluster="tract")
> print(etable(rdc,rdi,rd))
                                rdc                 rdi                rd
Dependent Var.:       use=="duplex"       use=="duplex"     use=="duplex"
                                                                         
lmedianPPSF     -0.2455*** (0.0404) -0.2307*** (0.0449)   0.1431 (0.1265)
landWidth         -0.0016* (0.0006)   -0.0015* (0.0006)  -0.0009 (0.0006)
lmedianIncome                          -0.0457 (0.0527)  -0.0305 (0.0570)
elasticity                                              -2.900** (0.8590)
Fixed-Effects:  ------------------- ------------------- -----------------
year                            Yes                 Yes               Yes
_______________ ___________________ ___________________ _________________
S.E.: Clustered           by: tract           by: tract         by: tract
Observations                  2,826               2,826             2,826
R2                          0.20122             0.20149           0.20959
Within R2                   0.04034             0.04066           0.05038
---
Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
> 
> rpc <- feols(use!="singleOnly" ~ lmedianPPSF + landWidth|year,data=dtChoice,cluster="tract")
> rpi <- feols(use!="singleOnly" ~ lmedianPPSF + landWidth + lmedianIncome|year,data=dtChoice,cluster="tract")
> rp <- feols(use!="singleOnly" ~ lmedianPPSF + landWidth+ lmedianIncome+ elasticity|year,data=dtChoice,cluster="tract")
> print(etable(rpc,rpi,rp))
                                rpc                 rpi                 rp
Dependent Var.:   use!="singleOnly"   use!="singleOnly"  use!="singleOnly"
                                                                          
lmedianPPSF     -0.3117*** (0.0415) -0.2439*** (0.0528)  -0.3049* (0.1248)
landWidth       -0.0037*** (0.0011)  -0.0035** (0.0011) -0.0036** (0.0011)
lmedianIncome                         -0.2165* (0.0952)  -0.2192* (0.0944)
elasticity                                                 0.4766 (0.8888)
Fixed-Effects:  ------------------- ------------------- ------------------
year                            Yes                 Yes                Yes
_______________ ___________________ ___________________ __________________
S.E.: Clustered           by: tract           by: tract          by: tract
Observations                  3,431               3,431              3,431
R2                          0.29588             0.29938            0.29951
Within R2                   0.05850             0.06319            0.06337
---
Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
> 
> rmc <- feols(use=="multi" ~ lmedianPPSF + landWidth |year,data=dtChoice[year>2023 & use!="single"],cluster="tract")
> rmi <- feols(use=="multi" ~ lmedianPPSF + landWidth + lmedianIncome|year,data=dtChoice[year>2023 & use!="single"],cluster="tract")
> rm <- feols(use=="multi" ~ lmedianPPSF + landWidth + lmedianIncome +elasticity|year,data=dtChoice[year>2023 & use!="single"],cluster="tract")
> rme <- feols(use=="multi" ~ lmedianPPSF + landWidth + lmedianIncome + elasticity|year,data=dtChoice[year>2023 & use!="single"],cluster="tract")
> print(etable(rmc,rmi,rm,rme))
                                rmc                 rmi                 rm
Dependent Var.:        use=="multi"        use=="multi"       use=="multi"
                                                                          
lmedianPPSF     -0.4083*** (0.0746) -0.3260*** (0.0724) -0.4562** (0.1409)
landWidth        0.0051*** (0.0015)  0.0055*** (0.0014) 0.0052*** (0.0015)
lmedianIncome                        -0.3021** (0.1087) -0.3092** (0.1092)
elasticity                                                   1.049 (1.063)
Fixed-Effects:  ------------------- ------------------- ------------------
year                            Yes                 Yes                Yes
_______________ ___________________ ___________________ __________________
S.E.: Clustered           by: tract           by: tract          by: tract
Observations                    605                 605                605
R2                          0.05466             0.06262            0.06358
Within R2                   0.04902             0.05703            0.05800

                               rme
Dependent Var.:       use=="multi"
                                  
lmedianPPSF     -0.4562** (0.1409)
landWidth       0.0052*** (0.0015)
lmedianIncome   -0.3092** (0.1092)
elasticity           1.049 (1.063)
Fixed-Effects:  ------------------
year                           Yes
_______________ __________________
S.E.: Clustered          by: tract
Observations                   605
R2                         0.06358
Within R2                  0.05800
---
Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
> 
> rmc <- feols(multiplex ~ lmedianPPSF + landWidth |year,data=dtChoice[year>2023 ],cluster="tract")
> rm <- feols(multiplex ~ lmedianPPSF + landWidth + elasticity|year,data=dtChoice[year>2023 ],cluster="tract")
> print(etable(rmc,rm ))
                                rmc                 rm
Dependent Var.:           multiplex          multiplex
                                                      
lmedianPPSF     -0.4083*** (0.0746) -0.5142** (0.1544)
landWidth        0.0051*** (0.0015)  0.0048** (0.0015)
elasticity                              0.8407 (1.136)
Fixed-Effects:  ------------------- ------------------
year                            Yes                Yes
_______________ ___________________ __________________
S.E.: Clustered           by: tract          by: tract
Observations                    605                605
R2                          0.05466            0.05528
Within R2                   0.04902            0.04965
---
Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
> 
> dtChoice[use=="single" & distToLaneway < CUTDISTANCE,use:="laneway"]
> dtChoice[,use:=factor(use,ordered=FALSE)]
> dtChoice[,use := relevel(use, ref = "singleOnly")]
> #multinomial logit
> mlogitc <- multinom(use ~ lmedianPPSF + landWidth + lmedianIncome + factor(year),data=dtChoice[landWidth<40],cluster="tract")
# weights:  52 (36 variable)
initial  value 2639.504464 
iter  10 value 1884.211547
iter  20 value 1785.731478
iter  30 value 1750.846596
iter  40 value 1735.915595
iter  50 value 1732.155554
final  value 1731.974866 
converged
> mlogit <- multinom(use ~ lmedianPPSF + landWidth + lmedianIncome + elasticity + factor(year),data=dtChoice[landWidth<40],cluster="tract")
# weights:  56 (39 variable)
initial  value 2639.504464 
iter  10 value 1883.184786
iter  20 value 1780.300875
iter  30 value 1740.263311
iter  40 value 1721.841062
iter  50 value 1720.220718
iter  60 value 1718.420356
iter  70 value 1718.134831
final  value 1718.134707 
converged
> print(summary(mlogitc))
Call:
multinom(formula = use ~ lmedianPPSF + landWidth + lmedianIncome + 
    factor(year), data = dtChoice[landWidth < 40], cluster = "tract")

Coefficients:
              (Intercept) lmedianPPSF    landWidth lmedianIncome
duplex           15.40018   -1.366111  0.013985969     -2.245366
multi            46.03404   -2.868640  0.212706938     -4.453113
singleLaneway    28.81823   -0.763076 -0.005996531     -2.139361
              factor(year)2018 factor(year)2019 factor(year)2020
duplex              13.2468118       15.3870999        17.824018
multi                4.9114301        4.1911506         3.972899
singleLaneway       -0.9756127       -0.6140557         1.295857
              factor(year)2021 factor(year)2022 factor(year)2023
duplex               18.916473        19.016013       19.0065736
multi                 4.642852         4.625968        4.5810275
singleLaneway         1.024459         1.076648        0.8130022
              factor(year)2024 factor(year)2025
duplex               20.324602        20.534873
multi                16.861189        17.596661
singleLaneway         1.290137         1.631946

Std. Errors:
              (Intercept) lmedianPPSF  landWidth lmedianIncome factor(year)2018
duplex           5.266123   0.3634658 0.04816501     0.5820653        1.0990736
multi            1.718894   0.7674695 0.08491427     0.5453731        0.2394966
singleLaneway    5.402147   0.3156039 0.04181039     0.5251645        0.2292797
              factor(year)2019 factor(year)2020 factor(year)2021
duplex              0.77884146       0.71245131       0.68165403
multi               0.05803572       0.01129311       0.07400917
singleLaneway       0.24616489       0.25165603       0.18640722
              factor(year)2022 factor(year)2023 factor(year)2024
duplex              0.69200273       0.69914972        0.7195437
multi               0.03615972       0.03549385        1.1093061
singleLaneway       0.22470092       0.22691795        0.3086007
              factor(year)2025
duplex               0.7409953
multi                1.1107244
singleLaneway        0.3854407

Residual Deviance: 3463.95 
AIC: 3535.95 
> print(summary(mlogit))
Call:
multinom(formula = use ~ lmedianPPSF + landWidth + lmedianIncome + 
    elasticity + factor(year), data = dtChoice[landWidth < 40], 
    cluster = "tract")

Coefficients:
              (Intercept) lmedianPPSF    landWidth lmedianIncome elasticity
duplex          -2.443153   0.5069823  0.021368058     -2.074543  -15.39606
multi           58.177869  -4.2258900  0.217432379     -4.481289   10.09933
singleLaneway   43.457565  -2.1280202 -0.008893153     -2.318387   10.67505
              factor(year)2018 factor(year)2019 factor(year)2020
duplex              11.4511242       13.5991910        15.991553
multi                5.0618625        1.3282358         4.627264
singleLaneway       -0.9770012       -0.6204544         1.311195
              factor(year)2021 factor(year)2022 factor(year)2023
duplex               17.122132        17.203812       17.2020395
multi                 6.350488         5.672965        6.2762496
singleLaneway         1.024570         1.079759        0.8164441
              factor(year)2024 factor(year)2025
duplex               18.519099        18.782884
multi                17.118672        17.879389
singleLaneway         1.295558         1.616904

Std. Errors:
              (Intercept) lmedianPPSF  landWidth lmedianIncome elasticity
duplex           4.690923   0.6290632 0.04798190     0.5675630   3.817463
multi            3.493073   1.3149825 0.08636735     1.2252427   7.258523
singleLaneway    4.584983   0.5849509 0.04192994     0.4711309   3.519524
              factor(year)2018 factor(year)2019 factor(year)2020
duplex               1.0599176       0.72216521        0.6544843
multi                2.1343282       0.01994554        0.1400827
singleLaneway        0.2294521       0.24637088        0.2518818
              factor(year)2021 factor(year)2022 factor(year)2023
duplex               0.6128027        0.6246363        0.6283057
multi                5.4852070        0.7528743        1.6452923
singleLaneway        0.1864990        0.2248867        0.2269066
              factor(year)2024 factor(year)2025
duplex               0.6495503        0.6730347
multi                4.8940231        4.8977644
singleLaneway        0.3087863        0.3863262

Residual Deviance: 3436.269 
AIC: 3514.269 
> 
> # plot with bubbles proportional to nobs
> dPlot <- dtChoice[,.(elasticity=mean(elasticity),medianPPSF=mean(medianPPSF),nobs=.N),by="tract"]
> ggplot(dPlot, aes(x=medianPPSF, y=elasticity, size=nobs)) + geom_point()
> ggsave("text/elasticityMedianPrice.png")
Saving 7 x 7 in image
> 
> stop()
Error: 
Execution halted
